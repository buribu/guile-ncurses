;;;; -*- Mode: scheme; -*-

;;;; curses_000_test_setup.test -- print some diagnostic info for this
;;;; test

;; Copyright 2009, 2010 Free Software Foundation, Inc.

;; This file is part of Guile-Ncurses.

;; Guile-Ncurses is free software: you can redistribute it and/or
;; modify it under the terms of the GNU Lesser General Public License
;; as published by the Free Software Foundation, either version 3 of
;; the License, or (at your option) any later version.

;; Guile-Ncurses is distributed in the hope that it will be useful,
;; but WITHOUT ANY WARRANTY; without even the implied warranty of
;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
;; Lesser General Public License for more details.

;; You should have received a copy of the GNU Lesser General Public
;; License along with Guile-Ncurses.  If not, see
;; <http://www.gnu.org/licenses/>.

(use-modules (ncurses curses))

(newline)
(display "Load path: ") (newline)
(write %load-path) (newline)
(display "Current test directory:  ") (write (getcwd)) (newline)
(display "Current locale:          ") (display (setlocale LC_ALL "")) (newline)
(display "TERM:                    ") (display (getenv "TERM")) (newline)
(display "Guile version:           ") (display (version)) (newline)
(if %ucs4-chars
    (display "Guile character storage: UCS-4")
    (display "Guile character storage: 8-bit locale chars"))
(newline)

(display "Ncurses version:         ") (display (curses-version))
(if %wide-ncurses
    (display " wide")
    (display " standard"))
(newline)
(newline)

;; (format #t "TERMINFO ~a~%" (getenv "TERMINFO"))

(if (not (string=? (getenv "ORIGTERM") "xterm"))
    (format #t
	    "WARNING: this terminal is a(n) ~s
This test suite uses the terminfo for an 'xterm'.
This may cause odd things to happen to the display
while the test is being run.
"
	    (getenv "ORIGTERM")))

(sleep 2)
